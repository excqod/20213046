##  컴퓨터공학과 20213046 박하선 오픈SW개론

***

### **[1] Linux 명령어 top**
> 실시간 CPU 사용률 체크

- 시스템의 상태를 전반적으로 가장 빠르게 파악할 수 있는 명령어 (CPU, Memory, Process)
- 옵션 없이 입력하면 interval 간격(기본 3초)으로 화면을 갱신하여 정보를 보여 줌
- top 실행 전 옵션
  + 순간의 정보를 확인하려면 ***-b*** 옵션 추가 (batch 모드)
  + ***-n*** : top 실행 주기 설정 (반복 횟수)

- top 실행 후 명령어 

  |옵션|내용|
  |:---:|:---:|
  |***shift + p***|CPU 사용률 내림차순|
  |***shift + m***|메모리 사용률 내림차순|
  |***shift + t***|프로세스가 돌아가고 있는 시간 순서|
  |***-k***|kill -k 입력 후 PID 번호 작성 (signal = 9)|
  |***-f***|sort field 선택 화면 -> q 눌렀을 때 RES순으로 정렬|
  |***-a***|메모리 사용량에 따라 정렬|
  |***-b***|Batch 모드로 작동|
  |***-1***|CPU Core별로 사용량을 보여 줌|
  |***-c***|명령행/프로그램 이름 토글|
  |***-d***|지연 시간 간격 ex) -d ss. tt (seconds.tenths)|
  |***-h***|도움말|
  |***-n***|반복 횟수 제한 ex) -n number|
  |***-s***|보안 모드 작동|
  |***-S***|누적 시간 모드 토글|
  |***-u, -U***|사용자별 모니터링 ex) -u somebody, -U somebody|
  |***-v***|version| 

- ps와 top의 차이점
  + ps는 ps한 시점에 proc에서 검색한 cpu 사용량
  + top는 proc에서 일정 주기로 합산해 cpu 사용률 출력


### **[2] ps 명령어**
> 실행 중인 Process 목록과 상태

- Process Status의 약자로 업무에서 매우 많이 사용됨
- System V, BSD, GNU에 따라 결과가 다르게 나타나며 표기법에도 차이를 보임
- System V 계열은 대시(dash, -)를 사용하며 BSD 계열은 사용하지 않음
- GNU에서는 두 개의 대시(--)를 사용함
- 원하는 프로세스의 상태를 출력하기 위해서는 ***정확한 옵션 사용***이 중요함
- ps 사용법
  + `ps [option]`

- ps 명령어 옵션

|옵션|내용|
|:---:|:---:|
|***-A***|모든 프로세스 출력|
|***a(BSD계열)***|터미널과 연관된 프로세스 출력, 보통 x 옵션과 연계하여 모든 프로세스를 출력할 때 사용함|
|***-a***|세션 리더를 제외하고 터미널에 종속되지 않은 모든 프로세스 출력|
|***-e***|커널 프로세스를 제외한 모든 프로세스 출력|
|***-f***|풀 포맷으로 보여 줌. 유닉스 스타일로 출력해 주는 옵션으로 UID, PID, PPID 등이 함께 표시됨|
|***-l(sys V), l(BSD)***|긴 포맷으로 보여 줌. 우선순위와 관련된 PRI와 NI 값을 확인할 수 있음.|
|***-o***|출력 포맷을 지정하는 옵션|
|***-M***|64비트 프로세스 출력|
|***-m***|프로세스 + 커널 스레드 출력|
|***-p***|특정 PID 지정 시 사용|
|***-r***|현재 실행 중인 프로세서 출력|
|***u(BSD)***|프로세스의 소유자 기준으로 출력|
|***-u***|특정 사용자의 프로세스 정보를 확인할 때 사용, 사용자 미지정 시 현재 사용자 기준 출력|
|***x(BSD)***|터미널에 종속되지 않는 프로세스 출력|
|***-x***|로그인 상태에 있는 동안 아직 완료되지 않은 프로세서 출력|

- ps 명령어 사용 예시
  + ***ps ax*** : BSD 포맷으로 출력
  
    <img width="365" alt="스크린샷 2022-06-03 16 23 34" src="https://user-images.githubusercontent.com/106721960/171807481-33dbf79d-e07f-4ab9-bbb4-739f1aeeda27.png">
    
  + ***ps aux*** : 모든 프로세스를 소유자 정보와 함께 다양하게 출력

    <img width="691" alt="스크린샷 2022-06-03 16 25 29" src="https://user-images.githubusercontent.com/106721960/171807756-734c79ec-a7d0-4373-8517-646df87b03c0.png">
    
  + ***ps -ef | more*** : 한 페이지씩 출력해 보기

    <img width="541" alt="스크린샷 2022-06-03 16 27 11" src="https://user-images.githubusercontent.com/106721960/171808027-77b84fdd-aa76-4cb9-b32f-e9d43a80a8c2.png">
    
  + ***ps -el | head*** : 긴 포맷으로 출력

    <img width="662" alt="스크린샷 2022-06-03 16 28 16" src="https://user-images.githubusercontent.com/106721960/171808198-aa65e62a-f354-49f6-8489-a78fa9fe1353.png">
    
### **[3] jobs 명령어**
> 작업의 상태를 표시하는 명령어

- 현재 쉘 세션에서 실행시킨 백그라운드 작업의 목록 출력
- 각 작업에는 번호가 붙어 있어 kill(이 다음 설명) 명령어 뒤에 '%번호' 등으로 사용 가능
- 현재 쉘 프로세스의 자식 백그라운드 프로세스들 보여 준다고 생각하면 됨
- jobs 사용법
  + `jobs [option]`

- jobs 명령어로 출력되는 백그라운드 작업의 상태값
  + ***Running*** : 작업이 계속 진행 중
  + ***Done*** : 작업이 완료되어 0 반환
  + ***Done(code)*** : 작업이 종료되었으며 0이 아닌 코드를 반환
  + ***Stopped*** : 작업이 일시 중단
  + ***Stopped(SIGTSTP)*** : SIGTSTP 시그널이 작업을 일시 중단
  + ***Stopped(SIGSTOP)*** : SIGSTOP 시그널이 작업을 일시 중단
  + ***Stopped(SIGTTN)*** : SIGTTN 시그널이 작업을 일시 중단
  + ***Stopped(SIGTTOU)*** : SIGTTOU 시그널이 작업을 일시 중단

- jobs 명령어 옵션

|옵션|내용|
|:---:|:---:|
|***-l***|프로세스 그룹 ID를 state 필드 앞에 출력|
|***-n***|프로세스 그룹 중에 대표 프로세스 ID를 출력|
|***-p***|각 프로세스 ID에 대해 한 행씩 출력|
|***command***|지정한 명령어를 실행|


### **[4] kill 명령어**
> 프로세스에 특정한 시그널을 보내는 명령

- 문자 그대로 프로세스를 죽일 때 사용
- 옵션 없이 실행하면 프로세스에 ***종료 신호(15, TERM, SIGTERM)*** 을 보냄
- 보통 중지시킬 수 없는 프로세스를 종료시킬 때 사용함

- kill 사용법
  + `kill [option] [signal] [PID 또는 %job_Number]`

- kill 명령어 옵션

|옵션|내용|
|:---:|:---:|
|***-l***|시그널의 종류 출력|
|***-s signal***|시그널의 이름 지정|

- kill 명령어 사용 예시
  + ***kill -l***

    <img width="719" alt="스크린샷 2022-06-03 16 56 17" src="https://user-images.githubusercontent.com/106721960/171812941-44329bc7-caf0-4a08-a5eb-1cb8ccb5417f.png">
  
  + ***kill 724*** : PID가 724인 프로세스에 기본 시그널인 15번 시그널 보내기
  + ***kill -9 756 757 758*** : PID가 756, 757, 758인 프로세스 ***강제 종료***
  + ***kill -HUP 10118*** : PID가 10118인 프로세스 재시작

### **[5] vim 에디터 매크로**
> 같은 동작을 반복해서 실행할 수 있도록 하는 명령어

- 매크로를 사용하면 KeyStroke를 줄일 수 있음
- 일일이 하기에 시간이 많이 소요될 경우에 사용

- 매크로 사용 방법
  + `q[name]`
  + ***q[name]*** 기록 시작 -> 작업 -> ***q*** 기록 종료
  + 매크로 시작 시 ***@[name]***
  + ***[숫자]@[name]*** 숫자에 들어간 만큼 매크로 실행 ex) `15@A`: 15번의 매크로 A 실행 

- 매크로 사용 예시

  + 다음과 같은 vim 파일에서 마지막 두 줄을 삭제하고자 함

      <img width="278" alt="스크린샷 2022-06-04 14 39 26" src="https://user-images.githubusercontent.com/106721960/171986157-00a549e1-014a-4052-b65b-0611f3153af4.png">

  + ***qA*** 명령어를 입력하면 아래와 같이 ***rec***이라는 표시가 뜨는 것을 확인할 수 있음

    <img width="322" alt="스크린샷 2022-06-04 14 40 59" src="https://user-images.githubusercontent.com/106721960/171986202-5c6a139e-22bf-47ec-a5ce-663a217f856d.png">

  + 현재 커서 위치 라인을 삭제함
  
    <img width="322" alt="스크린샷 2022-06-04 14 42 27" src="https://user-images.githubusercontent.com/106721960/171986247-bc6af40c-3e61-49e7-af2f-cce6a7ab5533.png">

  + ***q*** 명령어로 기록 종료
  
    <img width="322" alt="스크린샷 2022-06-04 14 43 05" src="https://user-images.githubusercontent.com/106721960/171986264-49d10ae4-28b4-43c1-81f1-804161836be4.png">

  + 한 줄 아래로 커서를 이동시킨 후 ***@A*** 명령어를 입력하면 기록한 매크로가 실행되는 것을 확인할 수 있음

    <img width="322" alt="스크린샷 2022-06-04 14 44 05" src="https://user-images.githubusercontent.com/106721960/171986309-d5e77d8b-bd1d-4e58-8bb0-f45af751bb28.png">

###### 스크린샷 출처 본인 






